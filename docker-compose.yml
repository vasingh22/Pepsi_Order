services:
  backend:
    build:
      context: ./backend
      dockerfile: Dockerfile
    container_name: pepsi-order-backend
    ports:
      - "8000:8000"
    environment:
      - DATABASE_URL=sqlite:///./pepsi_order.db
      - APP_NAME=Pepsi Order Digitization API
      - DEBUG=true
      - MAX_FILE_SIZE_MB=10
      - UPLOAD_DIR=./uploads
      - ALLOWED_EXTENSIONS=["pdf","PDF","png","PNG","jpg","JPG","jpeg","JPEG"]
      - CORS_ORIGINS=["http://localhost:3000","http://localhost:5173"]
      - SURYA_OCR_ENABLED=true
      - SURYA_OCR_API_URL=
      - SURYA_OCR_API_KEY=
    volumes:
      - ./backend/uploads:/app/uploads
      - ./backend/app:/app/app:ro
      - ./backend/run.py:/app/run.py:ro
    restart: unless-stopped
